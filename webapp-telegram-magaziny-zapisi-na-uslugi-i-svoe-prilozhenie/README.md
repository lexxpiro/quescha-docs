# WebApp Telegram (Магазины, Записи на услуги и свое приложение)

В конструкторе вы можете создавать приложения WebApp в Телеграм. Доступно создание каталога товаров для магазина в боте, календаря для записи на услуги, бронирования, а также [своего собственного web app](mini-app.md).

<figure><img src="../.gitbook/assets/webapplist.png" alt=""><figcaption></figcaption></figure>

Сначала вам потребуется перейти на страницу Списки/WebApp, перейти на вкладку WebApp Telegram и создать приложение нужного типа.

<figure><img src="../.gitbook/assets/Списки-Глобальные-переменные-WebApp-Telegram (2).png" alt=""><figcaption></figcaption></figure>

Каждый тип приложения имеет свои настройки. Для магазина вы можете задавать рубрики, размеры, цвета, включать поиск и фильтры, а также выбрать дизайн и настроить цвета приложения. На вкладке Товары добавьте товары каталога.

<figure><img src="../.gitbook/assets/Списки-Глобальные-переменные-WebApp-Telegram (1) (1).png" alt=""><figcaption></figcaption></figure>

Для приложения календаря вы можете настроить режим работы календаря, задать время записи, рабочие дни, настроить цвета приложения. На вкладке записи появятся записи клиентов, которые можно выгружать в файл.

<figure><img src="../.gitbook/assets/Списки-Глобальные-переменные-WebApp-Telegram (2) (1).png" alt=""><figcaption></figcaption></figure>

Ссылку приложения вы можете разместить в трех местах: кнопка меню слева (настраивается в @BotFather), кнопка клавиатуры и кнопка под сообщением. Для кнопки меню вам также потребуется ввести токен бота, где работает приложение.

**Важный момент:** при возврате из приложения текущему шагу сценария присваивается ответ webapp:catalog для каталога и webapp:calendar для календаря. Вы должны это использовать в условиях блоков для переадресации на блок обработки данных приложения. В случае каталога вам вернутся данные по заказу, в случае календаря вернутся дата и время записи.

Для обработки данных в блоке обработки вы должны использовать сценарий действий с действием WebApp Telegram. Выберите нужную операцию и сохраняйте нужные данные в переменные или производите предложенные в списке операции.

<figure><img src="../.gitbook/assets/Доска (16).png" alt=""><figcaption></figcaption></figure>

Для каталога вы можете сохранить сумму заказа в переменную и сгенерировать ссылку на оплату, с использованием этой переменной. Отправляйте данные о заказа клиенту, администратору или сохраняйте в Гугл Таблицу

{% hint style="info" %}
Магазин позволяет учитывать и списывать остатки для товаров (по размерам отдельно и для товаров без размеров). Для списания остатков вам необходимо передать в платежную ссылку параметр ItemsID со значением #{ItemsID}. При поступлении платежа, вы должны принять платеж в сценарии действий и, после этого, товары будут списаны.

Также вы можете вызвать тестовое списание. Для этого, перед действием приема платежа присвойте переменной ItemsIDtest переменную #{ItemsID}. Вы можете искусственно вызвать блок с ожиданием платежа, чтобы протестировать списание остатков.
{% endhint %}





Для календаря, вы можете сохранить дату и время в переменные, сделать операцию записи и сформировать и отправить сообщение для клиента и для администратора. Также вы можете поставить напоминание клиенту о предстоящей записи.

{% embed url="https://www.youtube.com/watch?v=jVum-hwPq-E" %}

Импортируйте готовый чат-бот доставки еды в свой аккаунт

{% embed url="https://drive.google.com/file/d/1N082Hyib5-rJqjShyRAmeD_hoWz5vG-O/view?usp=share_link" %}

{% embed url="https://www.youtube.com/watch?v=kfKBboCbcvw" %}

Импортируйте готовый чат-бот магазина одежды в свой аккаунт

{% embed url="https://drive.google.com/file/d/1ht7QxnsTHiMojVEq1M_9O2i5PeYEPa27/view?usp=share_link" %}

{% embed url="https://www.youtube.com/watch?v=ebez5YZR_U4" %}

Импортируйте готовый чат-бот записи на маникюр в свой аккаунт

{% embed url="https://drive.google.com/file/d/1AXdsZccPp5Bjye_9oVS_fArQsxUjAxao/view?usp=share_link" %}
